<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Głos Trójki - Gazetka Szkolna</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
<style>
* {margin:0;padding:0;box-sizing:border-box;}
body {font-family: 'Roboto', sans-serif; background:#f5f5f5; color:#333; scroll-behavior:smooth;}

/* Pasek górny */
header {background:#000; color:#fff; padding:20px; position:sticky; top:0; z-index:100; animation: slideDown 1s ease;}
.header-container {display:flex; flex-wrap:wrap; align-items:center; justify-content:space-between;}
header h1 {font-size:2em; color:#fff; position:relative; animation: fadeIn 1.5s ease forwards;}
header h1::after {content:''; display:block; width:60%; height:5px; background:gold; margin:5px 0 0; border-radius:2px; transition:width 0.3s ease;}
header h1:hover::after {width:80%;}

/* Menu */
nav {display:flex; gap:15px;}
nav a {color:#fff; text-decoration:none; font-weight:500; position:relative; animation: fadeIn 1.5s ease forwards;}
nav a::after {content:''; display:block; width:0%; height:2px; background:gold; transition:width 0.3s;}
nav a:hover::after {width:100%;}

/* Wyszukiwarka inline */
.search-inline {display:flex; align-items:center; gap:10px; margin-left:20px;}
.search-inline input[type="text"] {padding:7px 10px; border-radius:5px 0 0 5px; border:none; width:200px; transition:transform 0.3s, box-shadow 0.3s;}
.search-inline input[type="text"]:focus {transform:scale(1.05); box-shadow:0 0 10px gold;}
.search-inline button {padding:7px 12px; border-radius:0 5px 5px 0; border:none; background:gold; cursor:pointer; font-weight:bold; transition: transform 0.3s, background 0.3s;}
.search-inline button:hover {transform:scale(1.1); background:#ffde59;}

/* Sekcje i karty wydarzeń */
section {padding:40px 20px;}
.events {display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px;}
.event-card {
    background:#fff; 
    border-radius:15px; 
    overflow:hidden; 
    box-shadow:0 5px 15px rgba(0,0,0,0.1); 
    transform:translateY(20px); 
    opacity:0; 
    animation: fadeInUp 1s forwards; 
    transition: transform 0.5s, box-shadow 0.5s;
}

/* 🔧 poprawione, aby było widać całe zdjęcie */
.event-card img {
    width: 100%;
    height: auto;
    object-fit: contain;
    display: block;
    background: #000; /* tło wokół, gdy zdjęcie nie wypełnia całej karty */
}

.event-card .content {padding:15px; animation: fadeIn 1.5s ease forwards;}
.event-card h2 {font-size:1.3em; margin-bottom:10px;}
.event-card p {font-size:0.95em; color:#555;}

/* Footer */
footer {background:#000; color:#fff; text-align:center; padding:20px; margin-top:40px;}

/* Popup Logowania */
#loginModal {display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.7); justify-content:center; align-items:center; z-index:200;}
#loginModal.show {display:flex; animation:fadeIn 0.5s ease forwards;}
#loginModal .modal-content {background:#fff; padding:30px; border-radius:15px; width:300px; text-align:center; transform:scale(0); animation:scaleIn 0.5s forwards;}
#loginModal input {width:90%; padding:8px 10px; margin:10px 0; border-radius:5px; border:1px solid #ccc;}
#loginModal button {padding:8px 15px; background:gold; border:none; border-radius:5px; cursor:pointer; font-weight:bold; margin-top:10px; transition:transform 0.3s;}
#loginModal button:hover {transform:scale(1.05);}
#loginModal .close-btn {position:absolute; top:15px; right:20px; color:#fff; font-size:25px; cursor:pointer;}

/* Cookie Banner */
#cookieBanner {position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:#000; color:#fff; padding:15px 20px; border-radius:10px; display:flex; align-items:center; gap:15px; z-index:300; box-shadow:0 5px 15px rgba(0,0,0,0.3); animation:fadeInUp 1s ease;}
#cookieBanner button {padding:5px 12px; border:none; border-radius:5px; font-weight:bold; cursor:pointer;}
#cookieBanner button.accept {background:gold;}
#cookieBanner button.reject {background:#555;}

/* Cookie Notice */
#cookieNotice {position:fixed; bottom:20px; left:50%; transform:translateX(-50%); background:#000; color:#fff; padding:15px 20px; border-radius:10px; display:none; align-items:center; gap:15px; overflow:hidden; z-index:300;}
#cookieNotice .progress {position:absolute; bottom:0; left:0; height:4px; background:gold; width:0;}

/* Migająca ramka */
@keyframes blinkSmooth {
    0% {border-color:gold; opacity:1;}
    25% {border-color:transparent; opacity:0.6;}
    50% {border-color:gold; opacity:1;}
    75% {border-color:transparent; opacity:0.6;}
    100% {border-color:gold; opacity:1;}
}
.blink {border:3px solid gold !important; animation:blinkSmooth 1s ease-in-out;}

/* Animacje wejścia */
@keyframes fadeInUp {0% {transform:translateY(20px); opacity:0;} 100% {transform:translateY(0); opacity:1;}}
@keyframes fadeIn {0% {opacity:0;} 100% {opacity:1;}}
@keyframes scaleIn {0% {transform:scale(0);} 100% {transform:scale(1);}}
@keyframes slideDown {0% {transform:translateY(-100px); opacity:0;} 100% {transform:translateY(0); opacity:1;}}
</style>
</head>
<body>

<header>
    <div class="header-container">
        <h1>Głos Trójki</h1>
        <div class="search-inline">
            <input type="text" id="searchInput" placeholder="Szukaj...">
            <button onclick="searchItems()">Szukaj</button>
        </div>
        <nav>
            <a href="#home">Strona główna</a>
            <a href="#konkursy">Konkursy</a>
            <a href="#redakcja">Redakcja</a>
            <a href="#" id="loginBtn">Logowanie</a>
        </nav>
    </div>
</header>

<section id="home" class="events">
    <div class="event-card" style="animation-delay:0s;">
        <img src="https://imgur.com/9G2vFjB.png" alt="Wydarzenie 1">
        <div class="content">
            <h2>Witamy po wakacjach :D</h2>
            <p>Szykujemy dla Was kolejne numery :D</p>
        </div>
    </div>
</section>

<section id="konkursy">
    <h2>Konkursy</h2>
    <p>Wkrótce...</p>
</section>

<section id="redakcja">
    <h2>Redakcja</h2>
    <p>Wkrótce...</p>
</section>

<footer>&copy; 2025 Głos Trójki - Gazetka Szkolna</footer>

<!-- Popup Logowania -->
<div id="loginModal">
    <div class="modal-content">
        <span class="close-btn" id="closeLogin">&times;</span>
        <h2>Logowanie</h2>
        <input type="text" id="loginUser" placeholder="Login">
        <input type="password" id="loginPass" placeholder="Hasło">
        <button onclick="checkLogin()">Zaloguj</button>
    </div>
</div>

<!-- Cookie Banner -->
<div id="cookieBanner">
    Czy wyrażasz zgodę na używanie plików cookie?
    <button class="accept" onclick="handleCookie(true)">Akceptuj</button>
    <button class="reject" onclick="handleCookie(false)">Odrzuć</button>
</div>

<!-- Powiadomienie Cookie -->
<div id="cookieNotice">
    <span id="cookieMessage"></span>
    <div class="progress"></div>
</div>

<script>
// Animacja kart
document.querySelectorAll('.event-card').forEach((card, idx)=>{
    card.style.animationDelay = (idx*0.2)+'s';
    card.style.animationFillMode = 'forwards';
});

// Logowanie popup
const loginBtn = document.getElementById('loginBtn');
const loginModal = document.getElementById('loginModal');
const closeLogin = document.getElementById('closeLogin');
loginBtn.onclick = ()=> loginModal.classList.add('show');
closeLogin.onclick = ()=> loginModal.classList.remove('show');
window.onclick = e => { if(e.target==loginModal) loginModal.classList.remove('show'); }

function checkLogin(){
    const user = document.getElementById('loginUser').value;
    const pass = document.getElementById('loginPass').value;
    if(user==='redaktor1' && pass==='Głos Trójki1'){
        window.location.href='https://glostrojki.github.io/admin/';
    } else { alert('Niepoprawny login lub hasło!'); }
}

// Wyszukiwarka z migającą ramką
function searchItems(){
    const input = document.getElementById('searchInput').value.toLowerCase();
    const cards = document.querySelectorAll('.event-card');
    let found=false;
    for(let card of cards){
        const text = card.querySelector('h2').innerText.toLowerCase();
        if(text.includes(input)){
            card.scrollIntoView({behavior:'smooth', block:'start'});
            card.classList.remove('blink'); void card.offsetWidth; card.classList.add('blink');
            setTimeout(()=>card.classList.remove('blink'),2000);
            found=true; break;
        }
    }
    if(!found){
        const sections=[
            {id:'home', text:'wycieczka klasowa wydarzenia'},
            {id:'konkursy', text:'konkurs konkursy wydarzenia'},
            {id:'redakcja', text:'redakcja gazetka'}
        ];
        for(let s of sections){
            if(s.text.includes(input)){
                const el = document.getElementById(s.id);
                el.scrollIntoView({behavior:'smooth'});
                el.classList.remove('blink'); void el.offsetWidth; el.classList.add('blink');
                setTimeout(()=>el.classList.remove('blink'),2000);
                found=true; break;
            }
        }
    }
    if(!found) alert('Nie znaleziono pasującej sekcji.');
}

// Obsługa cookie
function handleCookie(accepted){
    const banner=document.getElementById('cookieBanner');
    const notice=document.getElementById('cookieNotice');
    const message=document.getElementById('cookieMessage');
    const progress=notice.querySelector('.progress');
    banner.style.display='none';
    message.textContent = accepted ? 'Zaakceptowałeś pliki cookie' : 'Odrzuciłeś pliki cookie';
    notice.style.display='flex';
    progress.style.width='0';
    let start=null;
    function animate(time){
        if(!start) start=time;
        let width=(time-start)/1000*100;
        progress.style.width = width+'%';
        if(width<100) requestAnimationFrame(animate);
        else notice.style.display='none';
    }
    requestAnimationFrame(animate);
}
</script>
</body>
</html>
